<ion-view view-title="Most Lucrative Stores">
    <ion-content>
        <div class="list card">
            <div class="item item-thumbnail-left">
                <img src="img/report.png">
                <h2>Most Lucrative Stores</h2>
                <div class="inset">
                    <div class="item tabs tabs-secondary tabs-icon-left">
                        <a class="tab-item" href="#" ng-click="reload('daily')" ng-class="{ 'tab-item-active': type == 'daily' }">Daily</a>
                        <a class="tab-item" href="#" ng-click="reload('weekly')" ng-class="{ 'tab-item-active': type == 'weekly' }">Weekly</a>
                        <a class="tab-item" href="#" ng-click="reload('monthly')" ng-class="{ 'tab-item-active': type == 'monthly' }">Monthly</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="list card">
            <div class="item">
                <div class="item tabs tabs-secondary tabs-icon-left">
                    <a class="tab-item" href="#" ng-click="showChart = true" ng-class="{ 'tab-item-active': showChart }">Chart</a>
                    <a class="tab-item" href="#" ng-click="showChart = false" ng-class="{ 'tab-item-active': !showChart }">Data</a>
                </div>
            </div>
            <div class="item" ng-show="showChart">
                <div class="padding" ng-show="data">
                    <canvas id="bar" class="chart chart-bar" chart-data="data" chart-labels="labels" legend="true" chart-series="series"></canvas>
                </div>
                <div class="padding" ng-hide="data">
                    <p>No data to display</p>
                </div>
            </div>
            <div class="item" ng-hide="showChart || !report" ng-repeat="store in report.raw">
                <h3>{{store.storeID}}</h3>
                <p>{{store.value.toFixed(2) | currency}}</p>
            </div>
        </div>
    </ion-content>
</ion-view>
